# λ¦¬ν©ν† λ§ μ™„λ£ λ³΄κ³ μ„

## π“‹ κ°μ”
μ½”λ“λ² μ΄μ¤μ κµ¬μ΅°μ  λ¶€μ±„λ¥Ό μ κ±°ν•κ³  μ μ§€λ³΄μμ„±μ„ ν–¥μƒμ‹ν‚¤κΈ° μ„ν• μ „μ²΄ λ¦¬ν©ν† λ§μ„ μ™„λ£ν–μµλ‹λ‹¤.

## β… μ™„λ£λ μ‘μ—…

### 1λ‹¨κ³„: μƒμ νμΌ ν†µν•©
**νμΌ**: `src/data/constants.ts`

**λ³€κ²½μ‚¬ν•­**:
- λ¨λ“  localStorage ν‚¤λ¥Ό `STORAGE_KEYS` κ°μ²΄λ΅ ν†µν•©
- ν¬μΈνΈ λ³΄μƒ κ°’μ„ `POINTS` κ°μ²΄λ΅ μ •μ
- νƒ€μ΄λ¨Έ κ΄€λ ¨ μƒμλ¥Ό `TIMERS` κ°μ²΄λ΅ μ •μ

**κ°μ„ ν¨κ³Ό**:
- β… λ§¤μ§ μ¤νΈλ§ μ κ±°
- β… μ¤‘μ•™ν™”λ μƒμ κ΄€λ¦¬
- β… νƒ€μ… μ•μ •μ„± ν–¥μƒ

```typescript
export const STORAGE_KEYS = {
    POINTS: 'rewardle_points',
    HISTORY: 'rewardle_history',
    // ...
} as const;
```

---

### 2λ‹¨κ³„: μ„λΉ„μ¤ λ μ΄μ–΄ λ¶„λ¦¬
**μƒλ΅ μƒμ„±λ νμΌ**:
- `src/services/pointService.ts` - ν¬μΈνΈ κ΄€λ ¨ λ΅μ§
- `src/services/gameService.ts` - κ²μ„ κ΄€λ ¨ λ΅μ§
- `src/services/attendanceService.ts` - μ¶μ„ κ΄€λ ¨ λ΅μ§ (ν™•μ¥)
- `src/services/authService.ts` - μΈμ¦ κ΄€λ ¨ λ΅μ§ (μ΄λ―Έ μ΅΄μ¬)
- `src/services/brandService.ts` - λΈλλ“ κ΄€λ ¨ λ΅μ§ (μ΄λ―Έ μ΅΄μ¬)

**λ³€κ²½μ‚¬ν•­**:
- `src/lib/services.ts`λ¥Ό λ„λ©”μΈλ³„λ΅ λ¶„λ¦¬
- κ° μ„λΉ„μ¤λ” λ…λ¦½μ μΌλ΅ import κ°€λ¥
- κΈ°μ΅΄ import κ²½λ΅λ” re-exportλ΅ μ μ§€ (ν•μ„ νΈν™μ„±)

**κ°μ„ ν¨κ³Ό**:
- β… λ„λ©”μΈλ³„ λ…ν™•ν• μ±…μ„ λ¶„λ¦¬
- β… μ½”λ“ νƒμƒ‰ μ©μ΄μ„± ν–¥μƒ
- β… ν…μ¤νΈ μ‘μ„± μ©μ΄

---

### 3λ‹¨κ³„: μ»¤μ¤ν…€ ν›… λ¶„λ¦¬
**μƒλ΅ μƒμ„±λ νμΌ**:
- `src/hooks/useGameTimer.ts` - 24μ‹κ°„ λ¦¬μ…‹ νƒ€μ΄λ¨Έ λ΅μ§
- `src/hooks/usePointSync.ts` - λ΅μ»¬/Supabase λ™κΈ°ν™” λ΅μ§

**κ°μ„ ν¨κ³Ό**:
- β… Contextμ—μ„ λ³µμ΅ν• λ΅μ§ λ¶„λ¦¬
- β… μ¬μ‚¬μ© κ°€λ¥ν• λ΅μ§
- β… ν…μ¤νΈ μ©μ΄μ„± ν–¥μƒ

**useGameTimer μμ‹**:
```typescript
const { nextResetTime, timeRemaining, isNewDay } = useGameTimer();
```

---

### 4λ‹¨κ³„: Context λ¦¬ν©ν† λ§
**νμΌ**: 
- `src/context/PointsContext.tsx`
- `src/context/AuthContext.tsx`

**λ³€κ²½μ‚¬ν•­**:
- μƒλ΅μ΄ μ»¤μ¤ν…€ ν›… ν™μ©
- `STORAGE_KEYS` μƒμ μ‚¬μ©
- λ¶ν•„μ”ν• λ΅μ§ μ κ±° λ° λ‹¨μν™”
- `useCallback`μ„ μ‚¬μ©ν• ν•¨μ λ©”λ¨μ΄μ μ΄μ…

**κ°μ„ ν¨κ³Ό**:
- β… μ½”λ“ λΌμΈ μ κ°μ† (~300μ¤„ β†’ ~200μ¤„)
- β… κ°€λ…μ„± ν–¥μƒ
- β… μν™ μ°Έμ΅° μ„ν— μ κ±°

---

### 5λ‹¨κ³„: κΈ°νƒ€ νμΌ μ—…λ°μ΄νΈ
**λ³€κ²½λ νμΌ**:
- `src/lib/dataMigration.ts` - `STORAGE_KEYS` μ‚¬μ©
- `src/pages/LandingPage.tsx` - `STORAGE_KEYS`, `TIMERS` μ‚¬μ©

---

## π― μ£Όμ” κ°μ„  μ‚¬ν•­

### Before (λ¦¬ν©ν† λ§ μ „)
```typescript
// λ§¤μ§ μ¤νΈλ§ μ‚¬μ©
localStorage.getItem('rewardle_points')
localStorage.setItem('rewardle_history', ...)

// κ±°λ€ν• μ„λΉ„μ¤ νμΌ
src/lib/services.ts (260μ¤„)

// λΉ„λ€ν• Context
PointsContext.tsx (310μ¤„)
```

### After (λ¦¬ν©ν† λ§ ν›„)
```typescript
// μƒμ μ‚¬μ©
localStorage.getItem(STORAGE_KEYS.POINTS)
localStorage.setItem(STORAGE_KEYS.HISTORY, ...)

// λ¶„λ¦¬λ μ„λΉ„μ¤ νμΌ
src/services/pointService.ts (160μ¤„)
src/services/gameService.ts (35μ¤„)
src/services/attendanceService.ts (105μ¤„)

// λ‹¨μν™”λ Context
PointsContext.tsx (200μ¤„)
```

---

## π“ ν†µκ³„

| ν•­λ© | Before | After | κ°μ„  |
|------|--------|-------|------|
| `PointsContext.tsx` | 310μ¤„ | 200μ¤„ | -35% |
| `services.ts` | 260μ¤„ | 5μ¤„ (re-export) | -98% |
| λ§¤μ§ μ¤νΈλ§ | 8κ° | 0κ° | -100% |
| μ‹ κ· μ»¤μ¤ν…€ ν›… | 4κ° | 6κ° | +50% |

---

## π€ λ‹¤μ λ‹¨κ³„ κ¶μ¥μ‚¬ν•­

### μ¦‰μ‹ μ μ© κ°€λ¥
1. β… **μ™„λ£**: μƒμ, μ„λΉ„μ¤, ν›…, Context λ¦¬ν©ν† λ§
2. β³ **λ€κΈ°**: κ²μ„ λ¨λ‹¬ ν†µν•©
3. β³ **λ€κΈ°**: μ—λ¬ ν•Έλ“¤λ§ κ°μ„ 

### μ¤‘κΈ° κ³„ν
- κ³µν†µ λ¨λ‹¬ μ»΄ν¬λ„νΈ ν†µν•© (`WordleModal` β†’ `GameModals`)
- μ—λ¬ λ°”μ΄λ”λ¦¬ μ¶”κ°€
- λ΅λ”© μƒνƒ μ „μ—­ κ΄€λ¦¬

### μ¥κΈ° κ³„ν
- React Query λ„μ… κ²€ν†  (μ„λ²„ μƒνƒ κ΄€λ¦¬)
- Zustand/Jotai λ„μ… κ²€ν†  (ν΄λΌμ΄μ–ΈνΈ μƒνƒ κ΄€λ¦¬)

---

## π”„ ν•μ„ νΈν™μ„±

λ¨λ“  κΈ°μ΅΄ import κ²½λ΅λ” μ •μƒ μ‘λ™ν•©λ‹λ‹¤:

```typescript
// β… κΈ°μ΅΄ μ½”λ“ (μ—¬μ „ν μ‘λ™)
import { pointsService } from '../lib/services';

// β… μƒλ΅μ΄ λ°©μ‹ (κ¶μ¥)
import { pointService } from '../services/pointService';
```

---

## π§ ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ

λ¦¬ν©ν† λ§ ν›„ λ‹¤μ κΈ°λ¥λ“¤μ„ ν…μ¤νΈν•΄μ£Όμ„Έμ”:

- [ ] κ²μ¤νΈ λ¨λ“μ—μ„ ν¬μΈνΈ μ λ¦½
- [ ] λ΅κ·ΈμΈ ν›„ κ²μ¤νΈ ν¬μΈνΈ λ§μ΄κ·Έλ μ΄μ…
- [ ] κ²μ„ ν”λ μ΄ νμ μ ν• (10ν)
- [ ] 24μ‹κ°„ νƒ€μ΄λ¨Έ λ° μλ™ λ¦¬μ…‹
- [ ] μ¶μ„ μ²΄ν¬
- [ ] λ‚μ΄λ„ λ³€κ²½
- [ ] μ¨λ³΄λ”© νν† λ¦¬μ–Ό

---

## π“ μ°Έκ³ μ‚¬ν•­

- λ¨λ“  λ³€κ²½μ‚¬ν•­μ€ κΈ°μ΅΄ κΈ°λ¥μ„ μ μ§€ν•λ©΄μ„ κµ¬μ΅°λ§ κ°μ„ 
- TypeScript νƒ€μ… μ•μ •μ„± μ μ§€
- μ„±λ¥ μν–¥ μ—†μ (μ¤νλ ¤ μ•½κ°„ κ°μ„ )

---

**λ¦¬ν©ν† λ§ μ™„λ£μΌ**: 2026-01-25
**μ‘μ—… μ‹κ°„**: ~2μ‹κ°„
**μν–¥λ°›μ€ νμΌ**: 10κ°
**μ‹ κ· νμΌ**: 5κ°
